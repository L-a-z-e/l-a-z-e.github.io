---
title: Spring Framework AOP Concepts
description: 
author: laze
date: 2025-05-05 00:00:09 +0900
categories: [Dev, SpringBoot]
tags: [SpringBoot]
---
**AOP Concepts**

- **Aspect:** 여러 클래스에 걸쳐 있는 관심사(concern)의 모듈화.
  트랜잭션 관리는 엔터프라이즈 자바 애플리케이션에서 횡단 관심사(crosscutting concern)의 좋은 예입니다.
  스프링 AOP에서 애스펙트는 일반 클래스(스키마 기반 접근 방식) 또는 `@Aspect` 어노테이션이 달린 일반 클래스(`@AspectJ` 스타일)를 사용하여 구현됩니다.
- **Join point:** 메소드 실행 또는 예외 처리와 같이 프로그램 실행 중의 한 지점.
  스프링 AOP에서 조인 포인트는 **항상 메소드 실행**을 나타냅니다.
- **Advice:** 특정 조인 포인트에서 애스펙트에 의해 취해지는 액션(action). 다양한 타입의 어드바이스에는 "around", "before", "after" 어드바이스가 포함됩니다.
  스프링을 포함한 많은 AOP 프레임워크는 어드바이스를 인터셉터(interceptor)로 모델링하고 조인 포인트 주변에 인터셉터 체인(chain of interceptors)을 유지합니다.
- **Pointcut:** 조인 포인트와 일치하는 술어(predicate).
  어드바이스는 포인트컷 표현식(pointcut expression)과 연관되며 포인트컷과 일치하는 모든 조인 포인트에서 실행됩니다 (예: 특정 이름을 가진 메소드의 실행).
  포인트컷 표현식에 의해 일치되는 조인 포인트 개념은 AOP의 핵심이며, 스프링은 기본적으로 AspectJ 포인트컷 표현식 언어를 사용합니다.
- **Introduction:** 타입 대신 추가 메소드나 필드를 선언하는 것.
  스프링 AOP를 사용하면 어드바이스 받는(advised) 객체에 새로운 인터페이스(및 해당 구현)를 도입(introduce)할 수 있습니다.
  예를 들어, 캐싱을 단순화하기 위해 빈이 `IsModified` 인터페이스를 구현하도록 인트로덕션을 사용할 수 있습니다.
- **Target object:** 하나 이상의 애스펙트에 의해 어드바이스 받는 객체.
  "어드바이스된 객체(advised object)"라고도 합니다.
  스프링 AOP는 런타임 프록시(runtime proxies)를 사용하여 구현되므로 이 객체는 항상 프록시된 객체(proxied object)입니다.
- **AOP proxy:** 애스펙트 계약(어드바이스 메소드 실행 등)을 구현하기 위해 AOP 프레임워크에 의해 생성된 객체.
  스프링 프레임워크에서 AOP 프록시는 JDK 동적 프록시(dynamic proxy) 또는 CGLIB 프록시입니다.
- **Weaving:** 어드바이스된 객체를 생성하기 위해 애스펙트를 다른 애플리케이션 타입 또는 객체와 연결(linking)하는 것.
  이는 컴파일 타임(예: AspectJ 컴파일러 사용), 로드 타임 또는 런타임에 수행될 수 있습니다.
  스프링 AOP는 다른 순수 자바 AOP 프레임워크와 마찬가지로 런타임에 위빙을 수행합니다.

스프링 AOP는 다음 타입의 어드바이스를 포함합니다:

- **Before 어드바이스:** 조인 포인트 이전에 실행되지만, 조인 포인트로의 실행 흐름 진행을 막을 수 없는(예외를 던지지 않는 한) 어드바이스.
- **After returning 어드바이스:** 조인 포인트가 정상적으로 완료된 후 실행될 어드바이스 (예: 메소드가 예외를 던지지 않고 반환되는 경우).
- **After throwing 어드바이스:** 메소드가 예외를 던져 종료되는 경우 실행될 어드바이스.
- **After (finally) 어드바이스:** 조인 포인트가 종료되는 방식(정상 또는 예외적 반환)에 관계없이 실행될 어드바이스.
- **Around 어드바이스:** 메소드 호출과 같은 조인 포인트를 둘러싸는(surrounds) 어드바이스.
  이것은 가장 강력한 종류의 어드바이스입니다.
  Around 어드바이스는 메소드 호출 전후에 커스텀 동작을 수행할 수 있습니다.
  또한 조인 포인트로 진행할지 또는 자체 반환 값을 반환하거나 예외를 던져 어드바이스된 메소드 실행을 단축(shortcut)할지 여부를 선택하는 책임도 있습니다.

Around 어드바이스는 가장 일반적인 종류의 어드바이스입니다.

스프링 AOP는 AspectJ와 마찬가지로 모든 범위의 어드바이스 타입을 제공하므로, 필요한 동작을 구현할 수 있는 가장 덜 강력한 어드바이스 타입을 사용하는 것이 좋습니다.

예를 들어, 메소드의 반환 값으로 캐시를 업데이트하기만 하면 되는 경우, around 어드바이스도 동일한 작업을 수행할 수 있지만 after returning 어드바이스를 구현하는 것이 더 좋습니다.

가장 구체적인 어드바이스 타입을 사용하면 오류 가능성이 적은 더 간단한 프로그래밍 모델을 제공합니다.

예를 들어, around 어드바이스에 사용되는 `JoinPoint`에서 `proceed()` 메소드를 호출할 필요가 없으므로 호출을 실패할 수 없습니다.

모든 어드바이스 파라미터는 정적으로 타입 지정(statically typed)되므로, `Object` 배열 대신 적절한 타입의 어드바이스 파라미터(예: 메소드 실행의 반환 값 타입)로 작업합니다.

포인트컷에 의해 일치되는 조인 포인트 개념은 AOP의 핵심이며, 이는 이전의 가로채기(interception)만 제공하는 기술과 구별됩니다.

포인트컷은 객체 지향 계층 구조와 독립적으로 어드바이스를 타겟팅할 수 있게 합니다. 예를 들어, 여러 객체에 걸쳐 있는 메소드 집합(예: 서비스 계층의 모든 비즈니스 작업)에 선언적 트랜잭션 관리를 제공하는 around 어드바이스를 적용할 수 있습니다.
